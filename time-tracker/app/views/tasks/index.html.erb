<div class="max-w-3xl mx-auto mt-8">
  <div data-controller="time-tracker" data-time-tracker-start="<%= current_running_entry&.start_time&.iso8601 %>" data-time-tracker-entry-id="<%= current_running_entry&.id %>" class="max-w-md mx-auto p-4 bg-gray-800 rounded text-white">
  <% if current_running_entry %>
    <h2 class="text-xl mb-2 text-center"><%= current_running_entry.task.name %></h2>
    <select data-time-tracker-target="task" class="hidden"><option value="<%= current_running_entry.task.id %>"></option></select>
  <% else %>
    <select data-time-tracker-target="task" class="w-full mb-2">
      <option value="" disabled selected>Select task</option>
      <% @tasks.each do |task| %>
        <option value="<%= task.id %>"><%= task.name %></option>
      <% end %>
    </select>
  <% end %>
  <div data-time-tracker-target="timer" class="text-4xl text-center my-4">00:00:00.000</div>
  <input type="text" data-time-tracker-target="comment" placeholder="Comment" class="w-full mb-2" />
  <% if current_running_entry %>
    <button class="px-4 py-2 bg-red-600 rounded w-full" data-action="time-tracker#stop"><i class="fa fa-stop"></i> Stop</button>
  <% else %>
    <button class="px-4 py-2 bg-green-600 rounded w-full text-white" data-action="time-tracker#start"><i class="fa fa-play"></i> Start</button>
  <% end %>
  </div>

  <h2 class="mt-8">Tasks</h2>
<table class="mt-2">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <td><%= link_to task.name, calendar_path(task_id: task.id) %></td>
        <td><%= task.description %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="mt-4">
  <%= link_to 'New Task', new_task_path %> |
  <%= link_to 'Calendar', calendar_path %> |
  <%= link_to 'Logout', session_path, method: :delete %>
</div>
</div>